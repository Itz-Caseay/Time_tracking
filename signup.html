<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300..700;1,300..700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles/auth.css" />
    <title>Login</title>
  </head>
  <body>
    <div class="title">
      <h1>Sign Up</h1>
      <center><div class="underline"></div></center>
    </div>
    <form action="" method="post" id="signup-form" autocomplete="on">
      <input type="text" placeholder="Username" id="username" required />
      <input type="email" placeholder="Email Address" id="email" required />
      <input type="password" placeholder="Password" id="password" required />
      <div class="remember-me"><input type="checkbox" checked name="" id=""> Remember Me</div>
      <button type="submit">Sign Up</button>

      <div class="new1">
      <p>Already have an account. <a href="./login.html">click here!</a></p>
    </div>
    </form>
    
  </body>
  <script>
    //Dom elemnts
const loginForm=document.getElementById('login-form')



const signupForm=document.getElementById('signup-form')
const users= JSON.parse(localStorage.getItem('checked')) || []
console.log(users)
let currentUser=null

document.addEventListener('DOMContentLoaded', () => {
    //logging user

    signupForm.addEventListener('submit', (e)=>{
        e.preventDefault();
        const username=document.getElementById('username').value
        const email=document.getElementById('email').value
        const password=document.getElementById('password').value
        try{
            if(!username || !email || !password){
                throw new Error('All fields are required')
            }
            const user={username, email, password}
            users.push(user)
            localStorage.setItem('checked', JSON.stringify(users))
            currentUser=user
            localStorage.setItem('currentUser', JSON.stringify(currentUser))
            
            signupForm.reset()
            alert('Signup successful')
            window.location.href='./index.html'
            
        }catch(error){
            console.log(error)
            alert(error)
        }
    })
});




  </script>
  <footer>
    Time tracker &copy; 2025 | All rights reserved.
  </footer>
</html>

