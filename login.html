<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300..700;1,300..700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./styles/auth.css" />
    <title>Login</title>
  </head>
  <body>
    <div class="title">
      <h1>Login</h1>
      <center><div class="underline"></div></center>
    </div>
    <form action="" method="post" id="login-form" autocomplete="on">
      <input type="text" placeholder="Username" id="username" required />
      <input type="password" placeholder="Password" id="password" required />
      <div class="remember-me"><input type="checkbox" checked name="" id=""> Remember Me</div>
      <button type="submit">Login</button>
      <div class="link">
        <i class="bi bi-question-circle"></i> Forgot Password?
      </div>
    </form>
    <div class="new">
      <p>If you don't have an account. <a href="./signup.html">click here!</a></p>
    </div>
  </body>
<script>
  //Dom elemnts
const loginForm=document.getElementById('login-form')



const signupForm=document.getElementById('signup-form')
const users= JSON.parse(localStorage.getItem('checked')) || []
console.log(users)
let currentUser=null

document.addEventListener('DOMContentLoaded', () => {
    //logging user

    loginForm.addEventListener('submit', (e)=>{
        e.preventDefault();
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        try {
            if (!username || !password) {
                throw new Error('All fields are required');
            }
            const userFound = users.find(user => user.username === username && user.password === password);
            if (userFound) {
                currentUser = userFound;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                alert('Login successful');
                window.location.href = './index.html'; 
            } else {
                alert('Invalid credentials');
            }
        }catch(error){
            console.log(error)
        }
    })

    
  });




</script>  <footer>
    Time tracker &copy; 2025 | All rights reserved.
  </footer>
</html>

